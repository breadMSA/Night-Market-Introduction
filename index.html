<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å£«æ—å¤œå¸‚å¤§å†’éšª | AI åœ¨åœ°å°éŠè€ç‹å¸¶è·¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Noto Sans TC & Stick (for Neon effect) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Stick&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        night: '#121212',
                        neonPink: '#ff00ff',
                        neonBlue: '#00ffff',
                        neonYellow: '#ffff00',
                        cardBg: '#1e1e1e'
                    },
                    fontFamily: {
                        sans: ['Noto Sans TC', 'sans-serif'],
                        neon: ['Stick', 'sans-serif'],
                    },
                    boxShadow: {
                        'neon-pink': '0 0 10px #ff00ff, 0 0 20px #ff00ff',
                        'neon-blue': '0 0 10px #00ffff, 0 0 20px #00ffff',
                        'neon-yellow': '0 0 10px #ffff00, 0 0 20px #ffff00',
                    }
                }
            }
        }
    </script>
    <style>
        /* è‡ªå®šç¾©éœ“è™¹æ–‡å­—é–ƒçˆæ•ˆæœ */
        .text-glow {
            text-shadow: 0 0 5px #fff, 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 40px #ff00ff;
        }
        .text-glow-blue {
            text-shadow: 0 0 5px #fff, 0 0 10px #00ffff, 0 0 20px #00ffff;
        }
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿ç•™åŠŸèƒ½ */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* AI èŠå¤©è¦–çª—å‹•ç•« */
        @keyframes slideIn {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .chat-slide-in {
            animation: slideIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-night text-gray-200 font-sans antialiased overflow-x-hidden">

    <!-- å°è¦½åˆ— Navbar -->
    <nav class="fixed w-full z-50 bg-night/90 backdrop-blur-md border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#" class="font-neon text-2xl text-neonPink tracking-wider text-glow">å£«æ— SHILIN</a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#food" class="hover:text-neonYellow transition-colors duration-300">å¿…åƒç¶“å…¸</a>
                        <a href="#fun" class="hover:text-neonBlue transition-colors duration-300">å··ä»”å…§å¨›æ¨‚</a>
                        <a href="#map" class="hover:text-neonPink transition-colors duration-300">äº¤é€šæŒ‡å—</a>
                    </div>
                </div>
                <!-- æ‰‹æ©Ÿç‰ˆ Menu æŒ‰éˆ•çœç•¥ï¼Œç°¡åŒ–ç‰ˆ -->
                <div class="md:hidden text-gray-400 text-sm">
                   <span class="text-neonYellow">AI å°éŠ</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦–è¦º Hero Section -->
    <section class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- èƒŒæ™¯åœ– (ä½¿ç”¨ Unsplash ä½”ä½åœ–ï¼Œæ¨¡æ“¬å¤œå¸‚æ°›åœ) -->
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1552554625-5e60d5c31270?q=80&w=2574&auto=format&fit=crop" alt="Night Market" class="w-full h-full object-cover opacity-60">
            <div class="absolute inset-0 bg-gradient-to-t from-night via-night/50 to-transparent"></div>
        </div>
        
        <div class="relative z-10 text-center px-4 max-w-4xl mx-auto mt-[-50px]">
            <h1 class="font-neon text-5xl md:text-7xl mb-6 text-white text-glow animate-pulse">
                å£«æ—å¤œå¸‚<br><span class="text-neonYellow text-glow-blue">å¤§å†’éšª</span>
            </h1>
            <p class="text-xl md:text-2xl mb-10 text-gray-300 font-light">
                åˆ¥å†åªåƒé›æ’äº†ï¼è·Ÿè‘—<span class="text-neonPink font-bold">è€ç‹</span>ï¼Œæ¢ç´¢å°åŒ—æœ€ç”ŸçŒ›çš„å¤œç”Ÿæ´»ã€‚
            </p>
            <button onclick="toggleChat()" class="bg-transparent border-2 border-neonYellow text-neonYellow hover:bg-neonYellow hover:text-black font-bold py-3 px-8 rounded-full transition-all duration-300 shadow-neon-yellow transform hover:scale-105">
                å‘¼å«è€ç‹å¸¶è·¯
            </button>
        </div>
    </section>

    <!-- å¿…åƒç¶“å…¸ Section -->
    <section id="food" class="py-20 px-4 max-w-7xl mx-auto">
        <h2 class="text-4xl font-neon text-center mb-16 text-white">
            <span class="border-b-4 border-neonPink pb-2">ğŸ”¥ å¿…åƒç¶“å…¸</span>
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- é›æ’ Card -->
            <div class="bg-cardBg rounded-xl overflow-hidden hover:shadow-neon-pink transition-all duration-300 group border border-gray-800">
                <div class="h-48 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="é›æ’">
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="text-xl font-bold text-white">è±ªå¤§å¤§é›æ’</h3>
                        <span class="text-neonYellow text-sm">â­ 4.8</span>
                    </div>
                    <p class="text-gray-400 text-sm mb-4">æ¯”è‡‰é‚„å¤§çš„å‚³å¥‡é›æ’ï¼Œå¤–çš®é…¥è„†è‚‰æ±å¤šã€‚å»ºè­°å…©å€‹äººåˆ†é£Ÿï¼Œä¸ç„¶å…¶ä»–éƒ½åƒä¸ä¸‹äº†ï¼</p>
                    <div class="flex justify-between items-center">
                        <span class="text-neonPink font-mono">$90 TWD</span>
                        <span class="text-xs border border-gray-600 px-2 py-1 rounded text-gray-400">å…¥å£è™•</span>
                    </div>
                </div>
            </div>

            <!-- ç”Ÿç…åŒ… Card -->
            <div class="bg-cardBg rounded-xl overflow-hidden hover:shadow-neon-pink transition-all duration-300 group border border-gray-800">
                <div class="h-48 overflow-hidden">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Shengjian_mantou_01.jpg/800px-Shengjian_mantou_01.jpg" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="ç”Ÿç…åŒ…">
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="text-xl font-bold text-white">é˜å®¶åŸä¸Šæµ·ç”Ÿç…åŒ…</h3>
                        <span class="text-neonYellow text-sm">â­ 4.6</span>
                    </div>
                    <p class="text-gray-400 text-sm mb-4">ç±³å…¶æ—å¿…æ¯”ç™»æ¨è–¦ï¼åº•éƒ¨ç„¦è„†ï¼Œå…§é¤¡é®®ç”œã€‚å°å¿ƒçˆ†æ¼¿ç‡™å£ï¼Œå»ºè­°åŠ ä¸€é»è¾£æ¤’é†¬ã€‚</p>
                    <div class="flex justify-between items-center">
                        <span class="text-neonPink font-mono">$16/é¡†</span>
                        <span class="text-xs border border-gray-600 px-2 py-1 rounded text-gray-400">å¤§å—è·¯</span>
                    </div>
                </div>
            </div>

            <!-- èšµä»”ç… Card -->
            <div class="bg-cardBg rounded-xl overflow-hidden hover:shadow-neon-pink transition-all duration-300 group border border-gray-800">
                <div class="h-48 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1605218427360-1de983226db9?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="èšµä»”ç…">
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="text-xl font-bold text-white">å¿ èª è™Ÿèšµä»”ç…</h3>
                        <span class="text-neonYellow text-sm">â­ 4.5</span>
                    </div>
                    <p class="text-gray-400 text-sm mb-4">å£«æ—è€å­—è™Ÿï¼Œèšµä»”è‚¥ç¾æ–°é®®ï¼Œç¨é–€é†¬æ±å¸¶é»èŠ±ç”Ÿé¦™æ°£æ˜¯éˆé­‚æ‰€åœ¨ã€‚</p>
                    <div class="flex justify-between items-center">
                        <span class="text-neonPink font-mono">$80 TWD</span>
                        <span class="text-xs border border-gray-600 px-2 py-1 rounded text-gray-400">B1ç¾é£Ÿè¡—</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- åœ¨åœ°å··ä»”å…§ & å¨›æ¨‚ (åˆä½µå€å¡Š) -->
    <section id="fun" class="py-20 bg-gradient-to-b from-cardBg to-night">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-neon text-center mb-16 text-white">
                <span class="border-b-4 border-neonBlue pb-2">ğŸ•¹ï¸ å··ä»”å…§ & ç©æ¨‚</span>
            </h2>

            <!-- Zig-Zag Layout -->
            <div class="space-y-20">
                <!-- Item 1: éŠæˆ² -->
                <div class="flex flex-col md:flex-row items-center gap-10">
                    <div class="w-full md:w-1/2">
                        <img src="https://images.unsplash.com/photo-1570535384666-41804d026330?q=80&w=1000&auto=format&fit=crop" alt="Balloon Shooting" class="rounded-lg shadow-neon-blue transform -rotate-2 hover:rotate-0 transition-all duration-500 w-full h-64 object-cover">
                    </div>
                    <div class="w-full md:w-1/2 text-left">
                        <h3 class="text-2xl font-bold text-neonBlue mb-4">å¾©å¤å°„æ°£çƒ & éº»å°‡è³“æœ</h3>
                        <p class="text-gray-300 mb-6 leading-relaxed">
                            åƒé£½äº†ä¾†å‹•å‹•æ‰‹ï¼é€™è£¡æœ‰å°åŒ—æœ€å¯†é›†çš„å°„æ°£çƒæ”¤ä½ã€‚å¦‚æœä½ è¦ºå¾—è‡ªå·±é‹æ°£å¥½ï¼Œå»æŒ‘æˆ°ã€Œéº»å°‡è³“æœã€ï¼Œé€£ç·šæˆåŠŸæŠ±èµ°å¤§å¨ƒå¨ƒï¼
                            <br><span class="text-sm text-gray-500 mt-2 block">ğŸ’¡ è€ç‹æç¤ºï¼šå¤§æ±è·¯ä¸Šé‚£å¹¾å®¶è€é—†æœ‰æ™‚å€™æœƒé€å¤šå¹¾éš»é£›é¢å–”ã€‚</span>
                        </p>
                    </div>
                </div>

                <!-- Item 2: æ¶¼éºµ -->
                <div class="flex flex-col md:flex-row-reverse items-center gap-10">
                    <div class="w-full md:w-1/2">
                        <img src="https://images.unsplash.com/photo-1596450523479-78f7aee44964?q=80&w=1000&auto=format&fit=crop" alt="Cold Noodles" class="rounded-lg shadow-neon-yellow transform rotate-2 hover:rotate-0 transition-all duration-500 w-full h-64 object-cover">
                    </div>
                    <div class="w-full md:w-1/2 text-left md:text-right">
                        <h3 class="text-2xl font-bold text-neonYellow mb-4">å®¶é„‰æ¶¼éºµ (æ·±å¤œé™å®š)</h3>
                        <p class="text-gray-300 mb-6 leading-relaxed">
                            é€™å®¶åªæœ‰åœ¨åœ°äººæ‰çŸ¥é“ï¼æ¿ƒéƒçš„éº»é†¬åŠ ä¸Šä¸€é»é»èŠ¥æœ«ï¼Œé…ä¸Šä¸€ç¢—å‘³å™Œè›‹èŠ±æ¹¯ï¼Œé€™æ‰æ˜¯å£«æ—çš„å®µå¤œéˆé­‚ã€‚
                            <br><span class="text-sm text-gray-500 mt-2 block">ğŸ’¡ è€ç‹æç¤ºï¼šä½æ–¼å»Ÿå£é™„è¿‘ï¼ŒåŠå¤œäººæœ€å¤šã€‚</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- äº¤é€šæŒ‡å— & åœ°åœ– -->
    <section id="map" class="py-20 px-4 max-w-5xl mx-auto text-center">
        <h2 class="text-4xl font-neon mb-10 text-white">ğŸ“ å¦‚ä½•æŠµé”</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
            <div class="bg-gray-800 p-6 rounded-lg text-left border-l-4 border-neonPink">
                <h3 class="text-xl font-bold text-white mb-2">ğŸš‡ æ·é‹ (æœ€æ¨è–¦)</h3>
                <p class="text-gray-400">æ­ä¹˜æ·é‹æ·¡æ°´ä¿¡ç¾©ç·š (ç´…ç·š) è‡³ <span class="text-neonPink font-bold">åŠæ½­ç«™ 1 è™Ÿå‡ºå£</span>ã€‚</p>
                <p class="text-sm text-gray-500 mt-2">éé¦¬è·¯å³å¯çœ‹åˆ°åŸºæ²³è·¯å…¥å£ã€‚</p>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg text-left border-l-4 border-neonBlue">
                <h3 class="text-xl font-bold text-white mb-2">ğŸ…¿ï¸ é–‹è»Šåœè»Š</h3>
                <p class="text-gray-400">é¦–é¸ï¼š<span class="text-neonBlue font-bold">å£«æ—å¸‚å ´åœ°ä¸‹åœè»Šå ´</span> (åŸºæ²³è·¯101è™Ÿ)ã€‚</p>
                <p class="text-sm text-gray-500 mt-2">å‡æ—¥å®¹æ˜“å®¢æ»¿ï¼Œå»ºè­°åœåœ¨ç™¾é½¡é«˜ä¸­åœ°ä¸‹åœè»Šå ´ã€‚</p>
            </div>
        </div>

        <!-- åœ°åœ– Placeholder -->
        <div class="w-full h-64 md:h-96 bg-gray-700 rounded-lg flex items-center justify-center relative overflow-hidden group">
            <div class="absolute inset-0 bg-black/60 flex items-center justify-center">
                <p class="text-neonYellow text-xl border-2 border-neonYellow px-6 py-2 rounded">Google Map åµŒå…¥å€</p>
            </div>
            <!-- å¯¦éš›å°ˆæ¡ˆä¸­è«‹æ›¿æ›ç‚º Google Map iframe -->
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Shilin_Night_Market_Entrance_2019.jpg/1200px-Shilin_Night_Market_Entrance_2019.jpg" class="w-full h-full object-cover opacity-30" alt="Map Preview">
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-8 text-center text-gray-600 text-sm border-t border-gray-900">
        <p>Â© 2025 å£«æ—å¤œå¸‚å¤§å†’éšª. All rights reserved.</p>
        <p class="mt-2 flex justify-center items-center gap-2">
            Powered by <span class="text-gray-400">Vercel</span> & <span class="text-gray-400">AI</span>
        </p>
    </footer>

    <!-- AI åš®å°æµ®å‹•æŒ‰éˆ• -->
    <div class="fixed bottom-6 right-6 z-50">
        <button onclick="toggleChat()" class="relative group">
            <div class="absolute inset-0 bg-neonPink rounded-full blur opacity-75 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"></div>
            <div class="relative bg-black border-2 border-neonPink text-white p-4 rounded-full w-16 h-16 flex items-center justify-center overflow-hidden">
                <!-- é€™è£¡å¯ä»¥ç”¨è€ç‹é ­åƒåœ–ç‰‡ä»£æ›¿ -->
                <span class="font-neon text-2xl">ç‹</span>
            </div>
            <!-- Tooltip -->
            <span class="absolute right-full mr-4 top-1/2 transform -translate-y-1/2 bg-white text-black text-xs font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">
                å•å•è€ç‹ï¼
            </span>
        </button>
    </div>

    <!-- AI èŠå¤©è¦–çª— -->
    <div id="chat-window" class="fixed bottom-24 right-6 w-80 md:w-96 bg-gray-900 border border-neonPink rounded-2xl shadow-2xl z-50 hidden flex flex-col h-[500px]">
        <!-- Header -->
        <div class="bg-gray-800 p-4 rounded-t-2xl flex justify-between items-center border-b border-gray-700">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-neonPink rounded-full flex items-center justify-center text-black font-bold">ç‹</div>
                <div>
                    <h3 class="text-white font-bold text-sm">å£«æ—è€ç‹</h3>
                    <p class="text-xs text-green-400">â— ç·šä¸Šä¸­</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-gray-400 hover:text-white">âœ•</button>
        </div>

        <!-- Chat Area -->
        <div id="chat-messages" class="flex-1 p-4 overflow-y-auto scrollbar-hide space-y-4">
            <!-- AI Welcome Message -->
            <div class="flex items-start gap-2">
                <div class="w-8 h-8 bg-neonPink rounded-full flex-shrink-0 flex items-center justify-center text-black font-bold text-xs">ç‹</div>
                <div class="bg-gray-800 text-gray-200 p-3 rounded-r-lg rounded-bl-lg text-sm border border-gray-700">
                    å˜¿ï¼æˆ‘æ˜¯è€ç‹ï¼Œå£«æ—é€™ä¸€å¸¶æˆ‘æœ€ç†Ÿå•¦ï¼æƒ³æ‰¾å¥½åƒçš„ã€é‚„æ˜¯æƒ³çŸ¥é“å“ªè£¡ä¸ç”¨æ’éšŠï¼Ÿå•æˆ‘å°±å°äº†ï¼ğŸ˜
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="p-4 bg-gray-800 rounded-b-2xl border-t border-gray-700">
            <div class="flex gap-2">
                <input type="text" id="user-input" placeholder="å•è€ç‹ï¼šé›æ’è¦æ’å¾ˆä¹…å—ï¼Ÿ" 
                    class="flex-1 bg-gray-900 text-white text-sm rounded-full px-4 py-2 border border-gray-600 focus:outline-none focus:border-neonPink">
                <button onclick="sendMessage()" class="bg-neonPink text-black rounded-full w-10 h-10 flex items-center justify-center font-bold hover:bg-white transition-colors">
                    â¤
                </button>
            </div>
            <!-- Quick Prompts -->
            <div class="flex gap-2 mt-3 overflow-x-auto scrollbar-hide">
                <button onclick="quickAsk('å¿…åƒæ¨è–¦')" class="whitespace-nowrap bg-gray-700 text-xs text-gray-300 px-3 py-1 rounded-full hover:bg-gray-600">å¿…åƒæ¨è–¦ ğŸ—</button>
                <button onclick="quickAsk('å»æ‰€åœ¨å“ª')" class="whitespace-nowrap bg-gray-700 text-xs text-gray-300 px-3 py-1 rounded-full hover:bg-gray-600">å»æ‰€åœ¨å“ª ğŸš½</button>
                <button onclick="quickAsk('é›¨å¤©å‚™æ¡ˆ')" class="whitespace-nowrap bg-gray-700 text-xs text-gray-300 px-3 py-1 rounded-full hover:bg-gray-600">ä¸‹é›¨æ€è¾¦ â˜”</button>
            </div>
        </div>
    </div>

    <!-- JavaScript é‚è¼¯ -->
    <script>
        // åˆ‡æ›èŠå¤©è¦–çª—é¡¯ç¤º/éš±è—
        function toggleChat() {
            const chatWindow = document.getElementById('chat-window');
            if (chatWindow.classList.contains('hidden')) {
                chatWindow.classList.remove('hidden');
                chatWindow.classList.add('chat-slide-in');
            } else {
                chatWindow.classList.add('hidden');
                chatWindow.classList.remove('chat-slide-in');
            }
        }

        // å¿«é€Ÿæå•
        function quickAsk(msg) {
            document.getElementById('user-input').value = msg;
            sendMessage();
        }

        // è™•ç†ç™¼é€è¨Šæ¯
        async function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            const chatMessages = document.getElementById('chat-messages');

            if (!message) return;

            // 1. é¡¯ç¤ºä½¿ç”¨è€…è¨Šæ¯
            appendMessage('user', message);
            input.value = '';

            // 2. é¡¯ç¤º Loading ç‹€æ…‹
            const loadingId = appendLoading();

            try {
                // 3. ç™¼é€è«‹æ±‚åˆ° Vercel Function (å¾Œç«¯ API)
                // æ³¨æ„ï¼šåœ¨æœ¬åœ°æ¸¬è©¦å¦‚æœæ²’æœ‰å¾Œç«¯ï¼Œæœƒå ±éŒ¯ã€‚éƒ¨ç½²å¾Œæ‰èƒ½æ­£å¸¸é‹ä½œã€‚
                const response = await fetch('https://night-market-irfr8yi6q-breads-projects-b1906cb9.vercel.app/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: message })
                });

                const data = await response.json();

                // 4. ç§»é™¤ Loadingï¼Œé¡¯ç¤º AI å›è¦†
                removeLoading(loadingId);
                appendMessage('ai', data.reply);

            } catch (error) {
                console.error('Error:', error);
                removeLoading(loadingId);
                // æ¨¡æ“¬å›è¦† (ç•¶æ²’æœ‰å¾Œç«¯æ™‚çš„ Fallback)
                setTimeout(() => {
                    appendMessage('ai', "å“å‘€ï¼è€ç‹ç¾åœ¨æœ‰é»å¿™ï¼ˆä¼ºæœå™¨é€£ç·šå¤±æ•—ï¼‰ï¼Œä¸éä½ å¯ä»¥å…ˆçœ‹çœ‹ã€å¿…åƒç¶“å…¸ã€å€å¡Šå–”ï¼ğŸ˜…");
                }, 1000);
            }
        }

        // è¼”åŠ©å‡½å¼ï¼šæ–°å¢è¨Šæ¯åˆ°ä»‹é¢
        function appendMessage(sender, text) {
            const chatMessages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = sender === 'user' ? 'flex justify-end' : 'flex items-start gap-2';
            
            if (sender === 'user') {
                div.innerHTML = `<div class="bg-neonPink text-black p-3 rounded-l-lg rounded-br-lg text-sm font-bold max-w-[80%]">${text}</div>`;
            } else {
                div.innerHTML = `
                    <div class="w-8 h-8 bg-neonPink rounded-full flex-shrink-0 flex items-center justify-center text-black font-bold text-xs">ç‹</div>
                    <div class="bg-gray-800 text-gray-200 p-3 rounded-r-lg rounded-bl-lg text-sm border border-gray-700 max-w-[90%]">${text}</div>
                `;
            }
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // è¼”åŠ©å‡½å¼ï¼šé¡¯ç¤º Loading å‹•ç•«
        function appendLoading() {
            const id = 'loading-' + Date.now();
            const chatMessages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.id = id;
            div.className = 'flex items-start gap-2';
            div.innerHTML = `
                <div class="w-8 h-8 bg-neonPink rounded-full flex-shrink-0 flex items-center justify-center text-black font-bold text-xs">ç‹</div>
                <div class="bg-gray-800 p-3 rounded-r-lg rounded-bl-lg text-sm border border-gray-700">
                    <span class="animate-pulse">...</span>
                </div>
            `;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return id;
        }

        function removeLoading(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }
        
        // Enter éµç™¼é€
        document.getElementById('user-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>